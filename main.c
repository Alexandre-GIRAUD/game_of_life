#include <stdio.h>
#include <stdlib.h>
#include "cell.h"
#include "grid.h"

int main()
{
    printf("-------------------------\nWelcome to Game Of Life\n(-------------------------\n");

    //Initial state of the simulation
    int rows_input = 9, cols_input = 18;
    char input[9][18] = {
        {1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0},
        {0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0},
        {0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1},
        {0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0},
        {1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0},
        {1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
    };

    //Grid (LENGTH*WIDTH) creation and set is randomly placed
    Cell **grid = create_grid(input, rows_input, cols_input);

    //run simulation
    simulate(grid);

    //free grid space
    for (int i = 0; i < LENGTH; i++)
        free(grid[i]);

    free(grid);
    
    return 0;
}